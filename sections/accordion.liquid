<style>

    .section-container {
        max-width: 160rem;
        padding: 0 5rem;
        margin: 0 auto;

    }

    .container {

        text-align: left;
    }

    .title {

        font-size: clamp(20px, 2vw, 30px);
    }

    .subtitle {

        font-size: clamp(16px, 1.2vw, 18px);
    }

    .icon::after {

        content: "+";
        position: absolute;
        display: flex;
        align-items: center;
        font-size: 40px;
        left: 0px;
        top: 13px;
        width: 30px;
        height: 30px;
        color: black;

}

    .active::after {

        content: "-";

}

.accordion-content {
  
  min-height: 0;
  max-height: 0;
  opacity: 0;
  -webkit-transition: all 0.8s ease-in-out;
  transition: all 0.8s ease-in-out;
}

.accordion-wrapper {
    position: relative;
}

.accordion-title {
    margin-left: 30px;
}

.accordion {
    display: flex;

}

.open {

min-height: 200px;
opacity: 1;
}
</style>


<section id="shopify-section-{{ section.id }}">

    <div class="section-container">
        <div class="container">
            <div class="title-container"><h2 class="title">{{ section.settings.section-title }}</h2></div>
            <div class="subtitle-container"><p class="subtitle">{{ section.settings.section-subtitle }}</p></div>
        </div>
        <div class="accordion-container">
            {% for block in section.blocks %}

                <div class="accordion-wrapper">
                    <div data-accordion class="accordion icon"><h3 class="accordion-title">{{ block.settings.accordion-title }}</h3></div>
                    <div data-active class="accordion-content">
                        <p class="accordion-text">{{ block.settings.accordion-subtitle }}</p>
                    
                    </div>
                </div>

            {% endfor %}
        </div>
    </div>


</section>

<script>

        var accordion = document.getElementsByClassName('accordion');
        var item;
        

        for (let item = 0; item < accordion.length; item++) {
            accordion[item].addEventListener("click", function () {
                
                this.classList.toggle('active');
                var text = this.nextElementSibling; 
                text.classList.toggle('open');  
            });
    }
</script>





{% schema %}

{
    "name": "Accordion Test",
    "tag": "section",
    "class": "accordion-section",
    "settings": [

    {
        "type": "text",
        "id": "section-title",
        "label": "Section Title"
    },
    {
        "type": "text",
        "id": "section-subtitle",
        "label": "Section Subtitle"
    }
],
"blocks": [
{
    "name":"Accordion Item",
    "type":"accordion-item",
    "settings": [

    {
        "type": "text",
        "id": "accordion-title",
        "label": "Accordion Title"
    },
    {
        "type": "text",
        "id": "accordion-subtitle",
        "label": "Accordion Subtitle"
    },
    {
        "type": "image_picker",
        "id": "accordion-image",
        "label": "Accordion Image"
    }
    
    ]

}
],
"presets": [
    {
        "name": "accordion",
        "settings": {
            "section-title": "Accordion Block"
        },
        "blocks": [
            {
                "type": "accordion-item"
            },
            {
                "type": "accordion-item"
            }
        
        ]
    }

]
    
}

{% endschema %}